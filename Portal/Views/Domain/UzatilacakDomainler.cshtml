@model IEnumerable<Portal.Models.Domain>
@using Portal.Models;
<div class="table-scrollable">
    <table class="table table-striped table-bordered table-hover">
        <thead class="flip-content">
            @*<tr>
                    <th>Tarih</th>
                    <th>Uzatma Tarihi</th>
                    <th class="numeric"> Kalan Gün </th>
                    <th> Domain </th>
                    <th>Web</th>
                    <th> Hosting </th>
                    <th> Ip </th>
                    <th> Kaydeden Firma </th>
                    <th> Kategori </th>
                    <th> Firma </th>
                    <th>Note</th>
                    <th> İşlem </th>
                </tr>*@
            @Html.Partial("_DomainUstSatiri")
        </thead>
        <tbody>
            @foreach (Portal.Models.Domain domainVerisi in ViewData.Model)
            {
                    @Html.Partial("_DomainSatiri", domainVerisi)
                
            }
        </tbody>
    </table>
</div>
@Html.Partial("_Modal")
@section css{

<link href="/Content/assets/global/plugins/bootstrap-editable/bootstrap-editable/css/bootstrap-editable.css" rel="stylesheet" type="text/css" />
}
@section scripts{
    <script src="/Content/assets/global/plugins/bootstrap-editable/bootstrap-editable/js/bootstrap-editable.js" type="text/javascript"></script>
    
    <script>
    function gosterDomain(domain) {
        commonAjaxService.getDomainInfo(domain).done(function (data) {
            $("#domainInfo .modal-title").html("Domain Sorgula")
            $("#domainInfo .modal-body").html(data);
            $("#domainInfo").modal("show");
        });
    }
    function domainUzatmaMailiGonder(btn, domainAdi, domainId) {


        if (confirm( domainAdi +' Domain Uzatılacak  Maili Gönderilecek Emin misiniz?'))
        {
            $(btn).addClass("disabled");
            $(btn).html("Gönderiliyor..");
            commonAjaxService.domainUzatmaMailiGonder(domainId).done(function (data) {
                $("#domainInfo").modal("show");
                $("#domainInfo .modal-title").html("Mail Cevap");
                $(btn).removeClass("disabled");
                $(btn).html("Mail Gönder");
                if (data.Basarilimi) {

                    $("#domainInfo .modal-body").html('Gönderildi');

                } else {
                    $("#domainInfo .modal-body").html('Hata oldu,gönderilemedi');
                }
            });
        }

    }

</script>
    <script>
  
    $(function () {
         $.fn.editable.defaults.mode = 'popup';
         $('.table-striped .domain-note').editable({
            url: '/Domain/ColumnNoteEkle',
            //params: { domainId: $(this).data('pk'), note: $(this).data('name') },
            type: 'text',
            name: 'Note',
            title: 'Not Giriniz',
            success: function (response, newValue) {
                console.log(newValue);
                //userModel.set('username', newValue); //update backbone model
            }
        });
    })
    </script>
    }


