
@{
    ViewBag.Title = "IcerikFormu";
}


<div class="portlet light portlet-fit portlet-form bordered" id="form_wizard_1">
    <div class="portlet-title">
        <div class="caption">
            <i class=" icon-layers font-green"></i>
            <span class="caption-subject font-green sbold uppercase">Validation States</span>
        </div>
       
    </div>
    <div class="portlet-body">
        <!-- BEGIN FORM-->
       
        @using (@Html.BeginForm("IcerikFormu", "Isler", FormMethod.Post,
 new {  @class = "form-horizontal" }))
        {
            @Html.AntiForgeryToken()
            <div class="form-body">
              
                <div class="form-group has-warning">
                    <label class="control-label col-md-3" for="inputWarning">Input with warning</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="inputWarning">
                        <span class="help-block"> Something may have gone wrong </span>
                    </div>
                </div>
                <div class="form-group has-error">
                    <label class="control-label col-md-3" for="inputError">Input with error</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="inputError">
                        <span class="help-block"> Please correct the error </span>
                    </div>
                </div>
                <div class="form-group has-success">
                    <label class="control-label col-md-3" for="inputSuccess">Input with success</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="inputSuccess">
                    </div>
                </div>

            </div>
            <div class="form-actions">
                <div class="row">
                    <div class="col-md-offset-3 col-md-9">
                        <button type="submit" class="btn green">Submit</button>
                        <button type="button" class="btn default">Cancel</button>
                    </div>
                </div>
            </div>

        }
        <form action="#" class="form-horizontal">
    
        </form>
        <!-- END FORM-->
    </div>
</div>

@section css{
<link href="/Content/assets/global/plugins/typeahead/typeahead.css" rel="stylesheet" type="text/css" />
}
@section scripts{

<script src="/Content/assets/global/plugins/typeahead/typeahead.bundle.min.js" type="text/javascript"></script>
    <script>
        $(function () {
            var substringMatcher = function (strs) {
                return function findMatches(q, cb) {
                    var matches, substringRegex;

                    // an array that will be populated with substring matches
                    matches = [];

                    // regex used to determine if a string contains the substring `q`
                    substrRegex = new RegExp(q, 'i');

                    // iterate through the pool of strings and for any string that
                    // contains the substring `q`, add it to the `matches` array
                    $.each(strs, function (i, str) {
                        if (substrRegex.test(str)) {
                            matches.push(str);
                        }
                    });

                    cb(matches);
                };
            };

            var states = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
              'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii',
              'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana',
              'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota',
              'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire',
              'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota',
              'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island',
              'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont',
              'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'
            ];
            /*
            $('#inputWarning').typeahead({
                hint: true,
                highlight: true,
                minLength: 1
            },
            {
                name: 'states',
                displayField: 'label',
                source: //substringMatcher(states)
                    function (request, response) {
                        $.ajax({
                            url: '/Isler/FirmalariGetir?firmaAdi=' + $("#inputWarning").val(),
                            success: function (data) {
                                response($.map(data, function (el) {
                                    return {
                                        label: el.label,
                                        value: el.value

                                    };

                                }));
                            }
                        });
                    }
            });
            */
            
        
            /*
     
            $('#inputWarning').typeahead({
                displayField: 'label',
                source: function (query, process) {
                    console.log("ddd")
                    return $.get("/Isler/FirmalariGetir?firmaAdi='" + $("#inputWarning").val(), function (data) {
                        return process(data.search_results);
                    });
                }
            });
          */


            $("input.typeahead").typeahead({
                onSelect: function (item) {
                    console.log(item);
                },
                ajax: {
                    url: "/path/to/source",
                    timeout: 500,
                    displayField: "title",
                    triggerLength: 1,
                    method: "get",
                    loadingClass: "loading-circle",
                    preDispatch: function (query) {
                        showLoadingMask(true);
                        return {
                            search: query
                        }
                    },
                    preProcess: function (data) {
                        showLoadingMask(false);
                        if (data.success === false) {
                            // Hide the list, there was some error
                            return false;
                        }
                        // We good!
                        return data.mylist;
                    }
                }
            });
          //  url: '/firmalarigetir?firmaAdi=' + $("#tags").val()
        })
    </script>

}